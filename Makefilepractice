SERVER := server

CLIENT := client

CC := cc

FLAGS := -Wall -Wextra -Werror

HEADER := minitalk.h

#LIBFT_NAME := ./libft/libft.a # name of executable

#LIBFT_I := ./libft # path of where to find the makefile to run make

SERVER_CFILES := server.c ft_utils.c
CLIENT_CFILES := client.c ft_utils.c

SERVER_OFILES := $(SERVER_CFILES:.c=.o)
CLIENT_OFILES := $(CLIENT_CFILES:.c=.o)

# Compiling the server
$(SERVER): $(SERVER_OFILES)
	$(CC) $(FLAGS) $(SERVER_OFILES) -o $(SERVER)

# Compiling the client
$(CLIENT): $(CLIENT_OFILES)
	$(CC) $(FLAGS) $(CLIENT_OFILES) -o $(CLIENT)

%.o: %.c
	$(CC) $(FLAGS) -I$(HEADER) -c $< -o $@

#$(CC) $(FLAGS) -I$(HEADER) -I$(LIBFT_I) -c $< -o $@

all: $(SERVER) $(CLIENT)

#libft:
#	$(MAKE) -C $(LIBFT)

#libclean:
#	rm -f $(lib_ofiles) $(LIBFT)

clean:
	rm -f $(SERVER_OFILES) $(CLIENT_OFILES)

fclean: clean
	rm -f $(SERVER) $(CLIENT) 

re: fclean all

.PHONY: all clean fclean re #libft libclean
